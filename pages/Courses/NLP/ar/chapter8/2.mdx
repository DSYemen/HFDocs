# ูุงุฐุง ุชูุนู ุนูุฏ ุญุฏูุซ ุฎุทุฃ[[what-to-do-when-you-get-an-error]]

<CourseFloatingBanner chapter={8}
  classNames="absolute z-10 right-0 top-0"
  notebooks={[
    {label: "Google Colab", value: "https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/en/chapter8/section2.ipynb"},
    {label: "Aws Studio", value: "https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/en/chapter8/section2.ipynb"},
]} />

ูู ูุฐุง ุงููุณูุ ุณูููู ูุธุฑุฉ ุนูู ุจุนุถ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ุงูุชู ูุฏ ุชุญุฏุซ ุนูุฏ ูุญุงููุฉ ุชูููุฏ ุชูุจุคุงุช ูู ูููุฐุฌ Transformer ุงูุฐู ููุช ุจุถุจุทู ููุชู. ุณูุฌูุฒู ูุฐุง ูููุณู [4](/course/chapter8/section4)ุ ุญูุซ ุณูุณุชูุดู ููููุฉ ุชุตุญูุญ ูุฑุญูุฉ ุงูุชุฏุฑูุจ ููุณูุง.

<Youtube id="DQ-CpJn6Rc4"/>

ููุฏ ุฃุนุฏุฏูุง [ูุณุชูุฏุน ูููุฐุฌ ูููุฐุฌู](https://huggingface.co/lewtun/distilbert-base-uncased-finetuned-squad-d5716d28) ููุฐุง ุงููุณูุ ูุฅุฐุง ููุช ุชุฑูุฏ ุชุดุบูู ุงูููุฏ ูู ูุฐุง ุงููุตูุ ูุณุชุญุชุงุฌ ุฃููุงู ุฅูู ูุณุฎ ุงููููุฐุฌ ุฅูู ุญุณุงุจู ุนูู [Hub Hugging Face](https://huggingface.co). ููููุงู ุจุฐููุ ูู ุจุชุณุฌูู ุงูุฏุฎูู ุฃููุงู ุนู ุทุฑูู ุชุดุบูู ุฃู ููุง ููู ูู ุฏูุชุฑ Jupyter:

```python
from huggingface_hub import notebook_login

notebook_login()
```

ุฃู ุงูุชุงูู ูู ุงููุญุทุฉ ุงูุทุฑููุฉ ุงูููุถูุฉ ูุฏูู:

```bash
huggingface-cli login
```

ุณูุชู ูุทุงูุจุชู ุจุฅุฏุฎุงู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑุ ูุณูุชู ุญูุธ ุฑูุฒ ูุฑูุฑ ุชุญุช *~/.cache/huggingface/*. ุจูุฌุฑุฏ ุชุณุฌูู ุงูุฏุฎููุ ููููู ูุณุฎ ูุณุชูุฏุน ุงููููุฐุฌ ุงููููุฐุฌู ุจุงุณุชุฎุฏุงู ุงูุฏุงูุฉ ุงูุชุงููุฉ:

```python
from distutils.dir_util import copy_tree
from huggingface_hub import Repository, snapshot_download, create_repo, get_full_repo_name


def copy_repository_template():
    # ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน ูุงุณุชุฎุฑุงุฌ ุงููุณุงุฑ ุงููุญูู
    template_repo_id = "lewtun/distilbert-base-uncased-finetuned-squad-d5716d28"
    commit_hash = "be3eaffc28669d7932492681cd5f3e8905e358b4"
    template_repo_dir = snapshot_download(template_repo_id, revision=commit_hash)
    # ุฅูุดุงุก ูุณุชูุฏุน ูุงุฑุบ ุนูู Hub
    model_name = template_repo_id.split("/")[1]
    create_repo(model_name, exist_ok=True)
    # ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน ุงููุงุฑุบ
    new_repo_id = get_full_repo_name(model_name)
    new_repo_dir = model_name
    repo = Repository(local_dir=new_repo_dir, clone_from=new_repo_id)
    # ูุณุฎ ุงููููุงุช
    copy_tree(template_repo_dir, new_repo_dir)
    # ุฅุฑุณุงู ุฅูู Hub
    repo.push_to_hub()
```

ุงูุขู ุนูุฏ ุงุณุชุฏุนุงุก `copy_repository_template()`ุ ุณูุชู ุฅูุดุงุก ูุณุฎุฉ ูู ูุณุชูุฏุน ุงููููุฐุฌ ุงููููุฐุฌู ุชุญุช ุญุณุงุจู.

## ุชุตุญูุญ ุฎุทุฃ ูู ุฎุท ุฃูุงุจูุจ ๐ค Transformers[[debugging-the-pipeline-from-transformers]]

ูุจุฏุก ุฑุญูุชูุง ูู ุนุงูู ุชุตุญูุญ ุฃุฎุทุงุก ููุงุฐุฌ Transformer ุงูุฑุงุฆุนุ ุถุน ูู ุงุนุชุจุงุฑู ุงูุณููุงุฑูู ุงูุชุงูู: ุฃูุช ุชุนูู ูุน ุฒููู ูู ูุดุฑูุน ุฅุฌุงุจุฉ ุงูุฃุณุฆูุฉ ููุณุงุนุฏุฉ ุนููุงุก ูููุน ุชุฌุงุฑุฉ ุฅููุชุฑูููุฉ ูู ุงูุนุซูุฑ ุนูู ุฅุฌุงุจุงุช ุญูู ุงูููุชุฌุงุช ุงูุงุณุชููุงููุฉ. ูุฑุณู ูู ุฒูููู ุฑุณุงูุฉ ูุซู:

> ูุฑุญุจูุง! ููุฏ ููุช ููุชู ุจุชุดุบูู ุชุฌุฑุจุฉ ุจุงุณุชุฎุฏุงู ุงูุชูููุงุช ูู [ุงููุตู 7](/course/chapter7/7) ูู ุฏูุฑุฉ Hugging Face ูุญุตูุช ุนูู ุจุนุถ ุงููุชุงุฆุฌ ุงูุฑุงุฆุนุฉ ุนูู SQuAD! ุฃุนุชูุฏ ุฃููุง ูููู ุฃู ูุณุชุฎุฏู ูุฐุง ุงููููุฐุฌ ูููุทุฉ ุจุฏุงูุฉ ููุดุฑูุนูุง. ูุนุฑู ุงููููุฐุฌ ุนูู Hub ูู "lewtun/distillbert-base-uncased-finetuned-squad-d5716d28". ูุง ุชุชุฑุฏุฏ ูู ุชุฌุฑุจุชู :)

ูุงูุดูุก ุงูุฃูู ุงูุฐู ุชููุฑ ููู ูู ุชุญููู ุงููููุฐุฌ ุจุงุณุชุฎุฏุงู `pipeline` ูู ๐ค Transformers:

```python
from transformers import pipeline

model_checkpoint = get_full_repo_name("distillbert-base-uncased-finetuned-squad-d5716d28")
reader = pipeline("question-answering", model=model_checkpoint)
```

```python out
"""
OSError: ูุง ูููู ุชุญููู ุงูุชููุฆุฉ ูู 'lewtun/distillbert-base-uncased-finetuned-squad-d5716d28'. ุชุฃูุฏ ูู ุฃู:

- 'lewtun/distillbert-base-uncased-finetuned-squad-d5716d28' ูู ูุนุฑู ูููุฐุฌ ุตุญูุญ ูุฏุฑุฌ ุนูู 'https://huggingface.co/models'

- ุฃู 'lewtun/distillbert-base-uncased-finetuned-squad-d5716d28' ูู ุงููุณุงุฑ ุงูุตุญูุญ ุฅูู ุฏููู ูุญุชูู ุนูู ููู config.json
"""
```

ูุง ุฅูููุ ูุจุฏู ุฃู ุดูุฆูุง ูุง ุญุฏุซ ุฎุทุฃ! ุฅุฐุง ููุช ุฌุฏูุฏูุง ูู ุงูุจุฑูุฌุฉุ ููุฏ ุชุจุฏู ูุฐู ุงูุฃููุงุน ูู ุงูุฃุฎุทุงุก ุบุงูุถุฉ ุจุนุถ ุงูุดูุก ูู ุงูุจุฏุงูุฉ (ูุง ูู `OSError`ุ!). ุงูุฎุทุฃ ุงููุนุฑูุถ ููุง ูู ูุฌุฑุฏ ุงูุฌุฒุก ุงูุฃุฎูุฑ ูู ุชูุฑูุฑ ุฎุทุฃ ุฃูุจุฑ ูุณูู _Python traceback_ (ุชุชุจุน ุงูููุฏุณ). ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ููุช ุชุดุบู ูุฐุง ุงูููุฏ ุนูู Google Colabุ ููุฌุจ ุฃู ุชุฑู ุดูุฆูุง ูุซู ููุทุฉ ุงูุดุงุดุฉ ุงูุชุงููุฉ:

<div class="flex justify-center">
<img src="https://huggingface.co/datasets/huggingface-course/documentation-images/resolve/main/en/chapter8/traceback.png" alt="ุชุชุจุน ุงูููุฏุณ ูู ุจุงูุซูู." width="100%"/>
</div>

ููุงู ุงููุซูุฑ ูู ุงููุนูููุงุช ุงููุงุฑุฏุฉ ูู ูุฐู ุงูุชูุงุฑูุฑุ ูุฐุง ุฏุนูุง ููุฑ ุนุจุฑ ุงูุฃุฌุฒุงุก ุงูุฑุฆูุณูุฉ ูุนูุง. ุงูุดูุก ุงูุฃูู ุงูุฐู ูุฌุจ ููุงุญุธุชู ูู ุฃูู ูุฌุจ ูุฑุงุกุฉ ุชุชุจุน ุงูููุฏุณ _ูู ุงูุฃุณูู ุฅูู ุงูุฃุนูู_. ูุฏ ูุจุฏู ูุฐุง ุบุฑูุจูุง ุฅุฐุง ููุช ูุนุชุงุฏูุง ุนูู ูุฑุงุกุฉ ุงููุต ุงูุฅูุฌููุฒู ูู ุงูุฃุนูู ุฅูู ุงูุฃุณููุ ููููู ูุนูุณ ุญูููุฉ ุฃู ุชุชุจุน ุงูููุฏุณ ููุธูุฑ ุชุณูุณู ุงุณุชุฏุนุงุกุงุช ุงูุฏุงูุฉ ุงูุชู ูููู ุจูุง `pipeline` ุนูุฏ ุชูุฒูู ุงููููุฐุฌ ูุงููุญูู ุงููุบูู. (ุฑุงุฌุน [ุงููุตู 2](/course/chapter2) ููุฒูุฏ ูู ุงูุชูุงุตูู ุญูู ููููุฉ ุนูู `pipeline` ุชุญุช ุงูุบุทุงุก.)

<Tip>

๐จ ูู ุชุฑู ุงููุฑุจุน ุงูุฃุฒุฑู ุญูู "6 frames" ูู ุชุชุจุน ุงูููุฏุณ ูู Google Colabุ ูุฐู ููุฒุฉ ุฎุงุตุฉ ูู Colabุ ูุงูุชู ุชุถุบุท ุชุชุจุน ุงูููุฏุณ ูู "ุฅุทุงุฑุงุช". ุฅุฐุง ูู ุชุชููู ูู ุงูุนุซูุฑ ุนูู ูุตุฏุฑ ุงูุฎุทุฃุ ูุชุฃูุฏ ูู ุชูุณูุน ุชุชุจุน ุงูููุฏุณ ุงููุงูู ุจุงูููุฑ ููู ูุฐูู ุงูุณูููู ุงูุตุบูุฑูู.

</Tip>

ูุฐุง ูุนูู ุฃู ุงูุณุทุฑ ุงูุฃุฎูุฑ ูู ุชุชุจุน ุงูููุฏุณ ูุดูุฑ ุฅูู ุฑุณุงูุฉ ุงูุฎุทุฃ ุงูุฃุฎูุฑุฉ ููุนุทู ุงุณู ุงูุงุณุชุซูุงุก ุงูุฐู ุชู ุฅุซุงุฑุชู. ูู ูุฐู ุงูุญุงูุฉุ ููุน ุงูุงุณุชุซูุงุก ูู `OSError`ุ ูุงูุฐู ูุดูุฑ ุฅูู ุฎุทุฃ ูุชุนูู ุจุงููุธุงู. ุฅุฐุง ูุฑุฃูุง ุฑุณุงูุฉ ุงูุฎุทุฃ ุงููุตุงุญุจุฉุ ูููููุง ุฃู ูุฑู ุฃูู ูุจุฏู ุฃู ููุงู ูุดููุฉ ูู ููู *config.json* ูููููุฐุฌุ ููุญู ููุนุทู ุงูุชุฑุงุญูู ูุฅุตูุงุญู:

```python out
"""
ุชุฃูุฏ ูู ุฃู:

- 'lewtun/distillbert-base-uncased-finetuned-squad-d5716d28' ูู ูุนุฑู ูููุฐุฌ ุตุญูุญ ูุฏุฑุฌ ุนูู 'https://huggingface.co/models'

- ุฃู 'lewtun/distillbert-base-uncased-finetuned-squad-d5716d28' ูู ุงููุณุงุฑ ุงูุตุญูุญ ุฅูู ุฏููู ูุญุชูู ุนูู ููู config.json
"""
```

<Tip>

๐ก ุฅุฐุง ุตุงุฏูุช ุฑุณุงูุฉ ุฎุทุฃ ูุตุนุจ ููููุงุ ููุง ุนููู ุณูู ูุณุฎ ููุตู ุงูุฑุณุงูุฉ ูู ุดุฑูุท ุจุญุซ Google ุฃู [Stack Overflow](https://stackoverflow.com/) (ูุนูุ ุจุงููุนู!). ููุงู ุงุญุชูุงู ูุจูุฑ ุฃูู ูุณุช ุฃูู ุดุฎุต ููุงุฌู ุงูุฎุทุฃุ ููุฐู ุทุฑููุฉ ุฌูุฏุฉ ููุนุซูุฑ ุนูู ุงูุญููู ุงูุชู ูุดุฑูุง ุงูุขุฎุฑูู ูู ุงููุฌุชูุน. ุนูู ุณุจูู ุงููุซุงูุ ูุฅู ุงูุจุญุซ ุนู `OSError: ูุง ูููู ุชุญููู ุงูุชููุฆุฉ ูู` ุนูู Stack Overflow ูุนุทู ุนุฏุฉ [ูุชุงุฆุฌ](https://stackoverflow.com/search?q=OSError%3A+Can%27t+load+config+for+) ูููู ุงุณุชุฎุฏุงููุง ูููุทุฉ ุจุฏุงูุฉ ูุญู ุงููุดููุฉ.

</Tip>

ูุทูุจ ููุง ุงูุงูุชุฑุงุญ ุงูุฃูู ุงูุชุญูู ููุง ุฅุฐุง ูุงู ูุนุฑู ุงููููุฐุฌ ุตุญูุญูุง ุจุงููุนูุ ูุฐุง ูุฅู ุฃูู ุนูู ุชุฌุงุฑู ูู ูุณุฎ ุงููุนุฑู ููุตูู ูู ุดุฑูุท ุจุญุซ Hub:

<div class="flex justify-center">
<img src="https://huggingface.co/datasets/huggingface-course/documentation-images/resolve/main/en/chapter8/wrong-model-id.png" alt="ุงุณู ุงููููุฐุฌ ุงูุฎุทุฃ." width="100%"/>
</div>

ููุงุ ูุจุฏู ุจุงููุนู ุฃู ูููุฐุฌ ุฒูููู ููุณ ุนูู Hub... ุขูุ ูููู ููุงู ุฎุทุฃ ูุทุจุนู ูู ุงุณู ุงููููุฐุฌ! DistilBERT ูุญุชูู ุนูู ุญุฑู "l" ูุงุญุฏ ููุท ูู ุงุณููุ ูุฐุง ุฏุนูุง ูุตุญุญ ุฐูู ููุจุญุซ ุนู "lewtun/distilbert-base-uncased-finetuned-squad-d5716d28" ุจุฏูุงู ูู ุฐูู:

<div class="flex justify-center">
<img src="https://huggingface.co/datasets/huggingface-course/documentation-images/resolve/main/en/chapter8/true-model-id.png" alt="ุงุณู ุงููููุฐุฌ ุงูุตุญูุญ." width="100%"/>
</div>

ุญุณููุงุ ููุฏ ุญุตููุง ุนูู ูุชูุฌุฉ. ุงูุขู ุฏุนูุง ูุญุงูู ุชูุฒูู ุงููููุฐุฌ ูุฑุฉ ุฃุฎุฑู ุจูุนุฑู ุงููููุฐุฌ ุงูุตุญูุญ:

```python
model_checkpoint = get_full_repo_name("distilbert-base-uncased-finetuned-squad-d5716d28")
reader = pipeline("question-answering", model=model_checkpoint)
```

```python out
"""
OSError: ูุง ูููู ุชุญููู ุงูุชููุฆุฉ ูู 'lewtun/distilbert-base-uncased-finetuned-squad-d5716d28'. ุชุฃูุฏ ูู ุฃู:

- 'lewtun/distilbert-base-uncased-finetuned-squad-d5716d28' ูู ูุนุฑู ูููุฐุฌ ุตุญูุญ ูุฏุฑุฌ ุนูู 'https://huggingface.co/models'

- ุฃู 'lewtun/distilbert-base-uncased-finetuned-squad-d5716d28' ูู ุงููุณุงุฑ ุงูุตุญูุญ ุฅูู ุฏููู ูุญุชูู ุนูู ููู config.json
"""
```
ุขูุ ุฃุญุจุทุช ูุฑุฉ ุฃุฎุฑู -- ูุฑุญุจุง ุจู ูู ุงูุญูุงุฉ ุงูููููุฉ ููููุฏุณ ุชุนูู ุงูุขูุฉ! ุจูุง ุฃููุง ุฃุตูุญูุง ูุนุฑู ุงููููุฐุฌุ ููุฌุจ ุฃู ุชููู ุงููุดููุฉ ูู ุงููุณุชูุฏุน ููุณู. ุทุฑููุฉ ุณุฑูุนุฉ ูููุตูู ุฅูู ูุญุชููุงุช ูุณุชูุฏุน ุนูู ๐ค Hub ูู ุนุจุฑ ุฏุงูุฉ `list_repo_files()` ูููุชุจุฉ `huggingface_hub`:

```python
from huggingface_hub import list_repo_files

list_repo_files(repo_id=model_checkpoint)
```

```python out
['.gitattributes', 'README.md', 'pytorch_model.bin', 'special_tokens_map.json', 'tokenizer_config.json', 'training_args.bin', 'vocab.txt']
```

ูุซูุฑ ููุงูุชูุงู -- ูุง ูุจุฏู ุฃู ููุงู ููู *config.json* ูู ุงููุณุชูุฏุน! ูุง ุนุฌุจ ุฃู `pipeline` ูู ุชุณุชุทุน ุชุญููู ุงููููุฐุฌุ ูู ุงููุญุชูู ุฃู ุฒููููุง ูุฏ ูุณู ุฏูุน ูุฐุง ุงูููู ุฅูู Hub ุจุนุฏ ุฃู ูุงู ุจุถุจุทู. ูู ูุฐู ุงูุญุงูุฉุ ุชุจุฏู ุงููุดููุฉ ุจุณูุทุฉ ุงูุญู: ูููููุง ุฃู ูุทูุจ ูููู ุฅุถุงูุฉ ุงููููุ ุฃูุ ุจูุง ุฃููุง ูุณุชุทูุน ุฃู ูุฑู ูู ูุนุฑู ุงููููุฐุฌ ุฃู ุงููููุฐุฌ ุงููุณุจู ุงูุถุจุท ุงููุณุชุฎุฏู ูุงู [`distilbert-base-uncased`](https://huggingface.co/distilbert-base-uncased)ุ ูููููุง ุชุญููู ุงูุชููุฆุฉ ููุฐุง ุงููููุฐุฌ ูุฏูุนูุง ุฅูู ูุณุชูุฏุนูุง ููุฑู ุฅู ูุงู ุฐูู ูุญู ุงููุดููุฉ. ุฏุนูุง ูุฌุฑุจ ุฐูู. ุจุงุณุชุฎุฏุงู ุงูุชูููุงุช ุงูุชู ุชุนูููุงูุง ูู [ุงููุตู 2](/course/chapter2)ุ ูููููุง ุชุญููู ุชููุฆุฉ ุงููููุฐุฌ ุจุงุณุชุฎุฏุงู ุตูู `AutoConfig`:

```python
from transformers import AutoConfig

pretrained_checkpoint = "distilbert-base-uncased"
config = AutoConfig.from_pretrained(pretrained_checkpoint)
```

<Tip warning={true}>

๐จ ุงูุทุฑููุฉ ุงูุชู ูุชุจุนูุง ููุง ููุณุช ูุญุตูุฉ ุถุฏ ุงูุฎุทุฃุ ุญูุซ ุฃู ุฒููููุง ูุฏ ูููู ูุฏ ุนุฏู ุชููุฆุฉ `distilbert-base-uncased` ูุจู ุถุจุท ุงููููุฐุฌ. ูู ุงููุงูุนุ ููุฏ ุฃู ูุชุญูู ูุนูู ุฃููุงูุ ูููู ูุฃุบุฑุงุถ ูุฐุง ุงููุณู ุณููุชุฑุถ ุฃููู ุงุณุชุฎุฏููุง ุงูุชููุฆุฉ ุงูุงูุชุฑุงุถูุฉ.

</Tip>

ูููููุง ุจุนุฏ ุฐูู ุฏูุน ูุฐุง ุฅูู ูุณุชูุฏุน ุงููููุฐุฌ ุจุงุณุชุฎุฏุงู ุฏุงูุฉ `push_to_hub()` ููุชููุฆุฉ:

```python
config.push_to_hub(model_checkpoint, commit_message="Add config.json")
```

ุงูุขู ูููููุง ุงุฎุชุจุงุฑ ูุง ุฅุฐุง ูุงู ุฐูู ูุฏ ูุฌุญ ุจุชุญููู ุงููููุฐุฌ ูู ุขุฎุฑ ุงูุชุฒุงู ุนูู ุงููุฑุน `main`:

```python
reader = pipeline("question-answering", model=model_checkpoint, revision="main")

context = r"""
Extractive Question Answering is the task of extracting an answer from a text
given a question. An example of a question answering dataset is the SQuAD
dataset, which is entirely based on that task. If you would like to fine-tune a
model on a SQuAD task, you may leverage the
examples/pytorch/question-answering/run_squad.py script.

๐ค Transformers is interoperable with the PyTorch, TensorFlow, and JAX
frameworks, so you can use your favourite tools for a wide variety of tasks!
"""

question = "What is extractive question answering?"
reader(question=question, context=context)
```

```python out
{'score': 0.38669535517692566,
 'start': 34,
 'end': 95,
 'answer': 'the task of extracting an answer from a text given a question'}
```

ูุง ูู ูู ูุฌุงุญ! ุฏุนูุง ูุณุชุนุฑุถ ูุง ุชุนููุชู ููุชู:

- ุฑุณุงุฆู ุงูุฎุทุฃ ูู ุจุงูุซูู ูุนุฑููุฉ ุจุงุณู _tracebacks_ ูุชูุฑุฃ ูู ุงูุฃุณูู ุฅูู ุงูุฃุนูู. ุงูุณุทุฑ ุงูุฃุฎูุฑ ูู ุฑุณุงูุฉ ุงูุฎุทุฃ ูุญุชูู ุนุงุฏุฉ ุนูู ุงููุนูููุงุช ุงูุชู ุชุญุชุงุฌูุง ูุชุญุฏูุฏ ูุตุฏุฑ ุงููุดููุฉ.
- ุฅุฐุง ูู ูุญุชู ุงูุณุทุฑ ุงูุฃุฎูุฑ ุนูู ูุนูููุงุช ูุงููุฉุ ุงุนูู ุทุฑููู ููุฃุนูู ูู traceback ูุงูุธุฑ ุฅู ููุช ุชุณุชุทูุน ุชุญุฏูุฏ ููุงู ุญุฏูุซ ุงูุฎุทุฃ ูู ููุฏ ุงููุตุฏุฑ.
- ุฅุฐุง ูู ุชุณุชุทุน ุฃู ูู ุฑุณุงุฆู ุงูุฎุทุฃ ูุณุงุนุฏุชู ูู ุชุตุญูุญ ุงููุดููุฉุ ุฌุฑุจ ุงูุจุญุซ ุนูู ุงูุฅูุชุฑูุช ุนู ุญู ููุดููุฉ ูุดุงุจูุฉ.
- ููุชุจุฉ `huggingface_hub` 
// ๐ค Hubุ
ุชููุฑ ูุฌููุนุฉ ูู ุงูุฃุฏูุงุช ุงูุชู ููููู ุงุณุชุฎุฏุงููุง ููุชูุงุนู ูุน ูุณุชูุฏุนุงุช Hub ูุชุตุญูุญูุง.

ุงูุขู ุจุนุฏ ุฃู ุชุนููุช ููููุฉ ุชุตุญูุญ ุฎุทุฃ ูู pipelineุ ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ูุซุงู ุฃูุซุฑ ุชุนููุฏุง ูู ุชูุฑูุฑ ุงููููุฐุฌ ููุฃูุงู.

## ุชุตุญูุญ ุชูุฑูุฑ ุงููููุฐุฌ ููุฃูุงู[[debugging-the-forward-pass-of-your-model]]

ุนูู ุงูุฑุบู ูู ุฃู `pipeline` ุฑุงุฆุน ููุนุธู ุงูุชุทุจููุงุช ุงูุชู ุชุญุชุงุฌ ูููุง ุฅูู ุชูููุฏ ุชูุจุคุงุช ุจุณุฑุนุฉุ ุฅูุง ุฃูู ูู ุจุนุถ ุงูุฃุญูุงู ุณุชุญุชุงุฌ ุฅูู ุงููุตูู ุฅูู logits ุงููููุฐุฌ (ููููุ ุฅุฐุง ูุงู ูุฏูู ุจุนุถ ุงููุนุงูุฌุฉ ุงููุฎุตุตุฉ ุงูุชู ุชุฑูุฏ ุชุทุจูููุง). ููุฑู ูุง ูููู ุฃู ูุฎุทุฆ ูู ูุฐู ุงูุญุงูุฉุ ุฏุนูุง ุฃููุง ูุญุตู ุนูู ุงููููุฐุฌ ูุงููุญูู ุงููุบูู ูู `pipeline` ุงูุฎุงุตุฉ ุจูุง:

```python
tokenizer = reader.tokenizer
model = reader.model
```

ุจุนุฏ ุฐูู ูุญุชุงุฌ ุฅูู ุณุคุงูุ ูุฐุง ุฏุนูุง ูุฑู ุฅู ูุงูุช ุฃุทุฑ ุงูุนูู ุงูููุถูุฉ ูุฏุนููุฉ:

```python
question = "Which frameworks can I use?"
```

ููุง ุฑุฃููุง ูู [ุงููุตู 7](/course/chapter7)ุ ุงูุฎุทูุงุช ุงููุนุชุงุฏุฉ ุงูุชู ูุญุชุงุฌ ุฅูู ุงุชุฎุงุฐูุง ูู ุชุญููู ุงููุฏุฎูุงุช ุฅูู ุฑููุฒุ ูุงุณุชุฎุฑุงุฌ logits ููุฑููุฒ ุงูุงุจุชุฏุงุฆูุฉ ูุงูููุงุฆูุฉุ ุซู ูู ุชุฑููุฒ span ุงูุฅุฌุงุจุฉ:

```python
import torch

inputs = tokenizer(question, context, add_special_tokens=True)
input_ids = inputs["input_ids"][0]
outputs = model(**inputs)
answer_start_scores = outputs.start_logits
answer_end_scores = outputs.end_logits
# Get the most likely beginning of answer with the argmax of the score
answer_start = torch.argmax(answer_start_scores)
# Get the most likely end of answer with the argmax of the score
answer_end = torch.argmax(answer_end_scores) + 1
answer = tokenizer.convert_tokens_to_string(
    tokenizer.convert_ids_to_tokens(input_ids[answer_start:answer_end])
)
print(f"Question: {question}")
print(f"Answer: {answer}")
```

```python out
"""
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
/var/folders/28/k4cy5q7s2hs92xq7_h89_vgm0000gn/T/ipykernel_75743/2725838073.py in <module>
      1 inputs = tokenizer(question, text, add_special_tokens=True)
      2 input_ids = inputs["input_ids"]
----> 3 outputs = model(**inputs)
      4 answer_start_scores = outputs.start_logits
      5 answer_end_scores = outputs.end_logits

~/miniconda3/envs/huggingface/lib/python3.8/site-packages/torch/nn/modules/module.py in _call_impl(self, *input, **kwargs)
   1049         if not (self._backward_hooks or self._forward_hooks or self._forward_pre_hooks or _global_backward_hooks
   1050                 or _global_forward_hooks or _global_forward_pre_hooks):
-> 1051             return forward_call(*input, **kwargs)
   1052         # Do not call functions when jit is used
   1053         full_backward_hooks, non_full_backward_hooks = [], []

~/miniconda3/envs/huggingface/lib/python3.8/site-packages/transformers/models/distilbert/modeling_distilbert.py in forward(self, input_ids, attention_mask, head_mask, inputs_embeds, start_positions, end_positions, output_attentions, output_hidden_states, return_dict)
    723         return_dict = return_dict if return_dict is not None else self.config.use_return_dict
    724
--> 725         distilbert_output = self.distilbert(
    726             input_ids=input_ids,
    727             attention_mask=attention_mask,

~/miniconda3/envs/huggingface/lib/python3.8/site-packages/torch/nn/modules/module.py in _call_impl(self, *input, **kwargs)
   1049         if not (self._backward_hooks or self._forward_hooks or self._forward_pre_hooks or _global_backward_hooks
   1050                 or _global_forward_hooks or _global_forward_pre_hooks):
-> 1051             return forward_call(*input, **kwargs)
   1052         # Do not call functions when jit is used
   1053         full_backward_hooks, non_full_backward_hooks = [], []

~/miniconda3/envs/huggingface/lib/python3.8/site-packages/transformers/models/distilbert/modeling_distilbert.py in forward(self, input_ids, attention_mask, head_mask, inputs_embeds, output_attentions, output_hidden_states, return_dict)
    471             raise ValueError("You cannot specify both input_ids and inputs_embeds at the same time")
    472         elif input_ids is not None:
--> 473             input_shape = input_ids.size()
    474         elif inputs_embeds is not None:
    475             input_shape = inputs_embeds.size()[:-1]

AttributeError: 'list' object has no attribute 'size'
"""
```
ุนุฒูุฒูุ ูุจุฏู ุฃู ูุฏููุง ุฎุทุฃ ูู ุงูููุฏ ุงูุฎุงุต ุจูุง! ููููุง ูุง ูุฎุงู ูู ุจุนุถ ุงูุชุตุญูุญ ููุฃุฎุทุงุก. ููููู ุงุณุชุฎุฏุงู ูุตุญุญ ุฃุฎุทุงุก ุจุงูุซูู ูู ุฏูุชุฑ ููุงุญุธุงุช:

<Youtube id="rSPyvPw0p9k"/>

ุฃู ูู ุงููุญุทุฉ ุงูุทุฑููุฉ:

<Youtube id="5PkZ4rbHL6c"/>

ููุงุ ูุฑุงุกุฉ ุฑุณุงูุฉ ุงูุฎุทุฃ ุชุฎุจุฑูุง ุฃู `'list' object has no attribute 'size'`ุ ููููููุง ุฑุคูุฉ ุณูู `-->` ูุดูุฑ ุฅูู ุงูุณุทุฑ ุงูุฐู ุชู ููู ุฑูุน ุงููุดููุฉ ูู `model(**inputs)`. ููููู ุชุตุญูุญ ูุฐุง ุงูุชูุงุนู ุจุงุณุชุฎุฏุงู ูุตุญุญ ุฃุฎุทุงุก ุจุงูุซููุ ูููู ุงูุขู ุณูููู ุจุจุณุงุทุฉ ุจุทุจุงุนุฉ ุดุฑูุญุฉ ูู `inputs` ููุฑู ูุง ูุฏููุง:

```python
inputs["input_ids"][:5]
```

```python out
[101, 2029, 7705, 2015, 2064]
```

ูุฐุง ุจุงูุชุฃููุฏ ูุจุฏู ูุซู ูุงุฆูุฉ ุจุงูุซูู ุนุงุฏูุฉุ ูููู ุฏุนูุง ูุชุฃูุฏ ูู ุงูููุน:

```python
type(inputs["input_ids"])
```

```python out
list
```

ูุนูุ ูุฐู ูุงุฆูุฉ ุจุงูุซูู ุจุงูุชุฃููุฏ. ุฅุฐุง ูุง ุงูุฐู ุญุฏุซ ุฎุทุฃุ ุชุฐูุฑ ูู [ุงููุตู 2](/course/chapter2) ุฃู ูุฆุงุช `AutoModelForXxx` ูู ๐ค Transformers ุชุนูู ุนูู _tensors_ (ุฅูุง ูู PyTorch ุฃู TensorFlow)ุ ูุนูููุฉ ุดุงุฆุนุฉ ูู ุงุณุชุฎุฑุงุฌ ุฃุจุนุงุฏ tensor ุจุงุณุชุฎุฏุงู `Tensor.size()` ููุ ุนูู ุณุจูู ุงููุซุงูุ PyTorch. ุฏุนูุง ูููู ูุธุฑุฉ ุฃุฎุฑู ุนูู tracebackุ ููุฑู ุฃู ุณุทุฑ ุฃุซุงุฑ ุงูุงุณุชุซูุงุก:

```
~/miniconda3/envs/huggingface/lib/python3.8/site-packages/transformers/models/distilbert/modeling_distilbert.py in forward(self, input_ids, attention_mask, head_mask, inputs_embeds, output_attentions, output_hidden_states, return_dict)
    471             raise ValueError("You cannot specify both input_ids and inputs_embeds at the same time")
    472         elif input_ids is not None:
--> 473             input_shape = input_ids.size()
    474         elif inputs_embeds is not None:
    475             input_shape = inputs_embeds.size()[:-1]

AttributeError: 'list' object has no attribute 'size'
```

ูุจุฏู ุฃู ุงูููุฏ ุงูุฎุงุต ุจูุง ุญุงูู ุงุณุชุฏุนุงุก `input_ids.size()`ุ ูููู ูู ุงููุงุถุญ ุฃู ูุฐุง ูู ูุนูู ููุงุฆูุฉ ุจุงูุซููุ ูุงูุชู ูู ูุฌุฑุฏ ุญุงููุฉ. ููู ูููููุง ุญู ูุฐู ุงููุดููุฉุ ุงูุจุญุซ ุนู ุฑุณุงูุฉ ุงูุฎุทุฃ ุนูู Stack Overflow ูุนุทู ุนุฏุฏุงู ููููุงู ูู ุงููุชุงุฆุฌ ุฐุงุช ุงูุตูุฉ [hits](https://stackoverflow.com/search?q=AttributeError%3A+%27list%27+object+has+no+attribute+%27size%27&s=c15ec54c-63cb-481d-a749-408920073e8f). ุงูููุฑ ุนูู ุงูุฃููู ูุนุฑุถ ุณุคุงูุงู ููุงุซูุงู ูุณุคุงููุงุ ูุน ุงูุฅุฌุงุจุฉ ุงููุนุฑูุถุฉ ูู ููุทุฉ ุงูุดุงุดุฉ ุฃุฏูุงู:

<div class="flex justify-center">
<img src="https://huggingface.co/datasets/huggingface-course/documentation-images/resolve/main/en/chapter8/stack-overflow.png" alt="An answer from Stack Overflow." width="100%"/>
</div>

ุชูุตู ุงูุฅุฌุงุจุฉ ุจุฃู ูุถูู `return_tensors='pt'` ุฅูู tokenizerุ ูุฐุง ุฏุนูุง ูุฑู ุฅุฐุง ูุงู ูุฐุง ูุนูู ุจุงููุณุจุฉ ููุง:

```python out
inputs = tokenizer(question, context, add_special_tokens=True, return_tensors="pt")
input_ids = inputs["input_ids"][0]
outputs = model(**inputs)
answer_start_scores = outputs.start_logits
answer_end_scores = outputs.end_logits
# Get the most likely beginning of answer with the argmax of the score
answer_start = torch.argmax(answer_start_scores)
# Get the most likely end of answer with the argmax of the score
answer_end = torch.argmax(answer_end_scores) + 1
answer = tokenizer.convert_tokens_to_string(
    tokenizer.convert_ids_to_tokens(input_ids[answer_start:answer_end])
)
print(f"Question: {question}")
print(f"Answer: {answer}")
```

```python out
"""
Question: Which frameworks can I use?
Answer: pytorch, tensorflow, and jax
"""
```

ุฑุงุฆุนุ ููุฏ ูุฌุญ ุงูุฃูุฑ! ูุฐุง ูุซุงู ุฑุงุฆุน ุนูู ูุฏู ูุงุฆุฏุฉ Stack Overflow: ูู ุฎูุงู ุชุญุฏูุฏ ูุดููุฉ ููุงุซูุฉุ ุชูููุง ูู ุงูุงุณุชูุงุฏุฉ ูู ุฎุจุฑุฉ ุงูุขุฎุฑูู ูู ุงููุฌุชูุน. ููุน ุฐููุ ูุฅู ุงูุจุญุซ ูุซู ูุฐุง ูู ูุคุฏู ุฏุงุฆููุง ุฅูู ุฅุฌุงุจุฉ ุฐุงุช ุตูุฉุ ููุงุฐุง ููููู ุฃู ุชูุนู ูู ูุซู ูุฐู ุงูุญุงูุงุชุ ูุญุณู ุงูุญุธุ ููุงู ูุฌุชูุน ุชุฑุญูุจู ูู ุงููุทูุฑูู ุนูู [ููุชุฏูุงุช Hugging Face](https://discuss.huggingface.co/) ูููููู ูุณุงุนุฏุชู! ูู ุงููุณู ุงูุชุงููุ ุณูููู ูุธุฑุฉ ุนูู ููููุฉ ุตูุงุบุฉ ุฃุณุฆูุฉ ุงูููุชุฏู ุงูุฌูุฏุฉ ุงูุชู ูู ุงููุญุชูู ุฃู ูุชู ุงูุฅุฌุงุจุฉ ุนูููุง.