# ููู ูุฆุฉ ุงููุงุฌูุฉ {}

<CourseFloatingBanner chapter={9}
  classNames="absolute z-10 right-0 top-0"
  notebooks={[
    {label: "Google Colab", value: "https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/en/chapter9/section3.ipynb"},
    {label: "Aws Studio", value: "https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/en/chapter9/section3.ipynb"},
]} />

ูู ูุฐุง ุงููุณูุ ุณูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ูุฆุฉ `Interface`ุ ููููู
ุงูุจุงุฑุงูุชุฑุงุช ุงูุฑุฆูุณูุฉ ุงููุณุชุฎุฏูุฉ ูุฅูุดุงุก ูุงุญุฏุฉ.

## ููููุฉ ุฅูุดุงุก ูุงุฌูุฉ {}

ุณุชูุงุญุธ ุฃู ูุฆุฉ `Interface` ููุง 3 ุจุงุฑุงูุชุฑุงุช ูุทููุจุฉ:

`Interface(fn, inputs, outputs, ...)`

ูุฐู ุงูุจุงุฑุงูุชุฑุงุช ูู:

  - `fn`: ุฏุงูุฉ ุงูุชูุจุค ุงูุชู ูุชู ุชุบููููุง ุจูุงุณุทุฉ ูุงุฌูุฉ Gradio. ูููู ููุฐู ุงูุฏุงูุฉ ุฃู ุชุฃุฎุฐ ุจุงุฑุงูุชุฑูุง ูุงุญุฏูุง ุฃู ุฃูุซุฑ ูุชุนูุฏ ูููุฉ ูุงุญุฏุฉ ุฃู ุฃูุซุฑ
  - `inputs`: ููุน ูููู ุงูุฅุฏุฎุงู. ูููุฑ Gradio ุงูุนุฏูุฏ ูู ุงูููููุงุช ุงููููุดุฃุฉ ูุณุจููุง ูุซู `"image"` ุฃู `"mic"`.
  - `outputs`: ููุน ูููู ุงูุฅุฎุฑุงุฌ. ูุฑุฉ ุฃุฎุฑูุ ูููุฑ Gradio ุงูุนุฏูุฏ ูู ุงูููููุงุช ุงููููุดุฃุฉ ูุณุจููุง ูุซู `"image"` ุฃู `"label"`.

ููุญุตูู ุนูู ูุงุฆูุฉ ูุงููุฉ ุจุงูููููุงุชุ [ุฑุงุฌุน ูุซุงุฆู Gradio](https://gradio.app/docs). ูููู ุชุฎุตูุต ูู ูููู ูููุดุฃ ูุณุจููุง ุนู ุทุฑูู ุฅูุดุงุก ูุซูู ูููุฆุฉ ุงูููุงุจูุฉ ูููููู.

ุนูู ุณุจูู ุงููุซุงูุ ููุง ุฑุฃููุง ูู [ุงููุณู ุงูุณุงุจู](/course/chapter9/2)ุ
ุจุฏูุงู ูู ุชูุฑูุฑ `"textbox"` ุฅูู ุจุงุฑุงูุชุฑ `inputs`ุ ููููู ุชูุฑูุฑ ูููู `Textbox(lines=7, label="Prompt")` ูุฅูุดุงุก ูุฑุจุน ูุต ุจ7 ุฃุณุทุฑ ูููุตู.

ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ูุซุงู ุขุฎุฑุ ูุฐู ุงููุฑุฉ ูุน ูููู `Audio`.

## ูุซุงู ุจุณูุท ูุน ุงูุตูุช {}

ููุง ุฐูุฑูุง ุณุงุจููุงุ ูููุฑ Gradio ุงูุนุฏูุฏ ูู ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช ุงููุฎุชููุฉ.
ูุฐุง ุฏุนูุง ูุจูู `Interface` ุชุนูู ูุน ุงูุตูุช.

ูู ูุฐุง ุงููุซุงูุ ุณูุจูู ุฏุงูุฉ ุตูุช ุฅูู ุตูุช ุชุฃุฎุฐ
ููู ุตูุชู ูุชููู ุจุจุณุงุทุฉ ุจุนูุณูุง.

ุณูุณุชุฎุฏู ูููู `Audio` ููุฅุฏุฎุงู. ุนูุฏ ุงุณุชุฎุฏุงู ูููู `Audio`ุ
ููููู ุชุญุฏูุฏ ูุง ุฅุฐุง ููุช ุชุฑูุฏ `source` ููุตูุช ุฃู ูููู ููููุง ูููู ุงููุณุชุฎุฏู
ุจุฑูุนู ุฃู ูููุฑูููููุง ูููู ุงููุณุชุฎุฏู ุจุชุณุฌูู ุตูุชู ุจู. ูู ูุฐู ุงูุญุงูุฉุ ุฏุนูุง
ูุถุจุทู ุนูู `"microphone"`. ููุท ูููุชุนุฉุ ุณูุถูู ููุตููุง ุฅูู `Audio` ูููู
"ุชููู ููุง...".

ุจุงูุฅุถุงูุฉ ุฅูู ุฐููุ ููุฏ ุงุณุชูุงู ุงูุตูุช ูุตููู numpy ุจุญูุซ ูููููุง ุจุณูููุฉ
"ุนูุณู". ูุฐุง ุณูุถุจุท `"type"` ููููู `"numpy"`ุ ูุงูุฐู ููุฑุฑ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
ููุฌููุนุฉ ูู (`sample_rate`ุ `data`) ุฅูู ุฏุงูุชูุง.

ุณูุณุชุฎุฏู ุฃูุถูุง ูููู ุงูุฅุฎุฑุงุฌ `Audio` ุงูุฐู ููููู ุชููุงุฆููุง
ุชุตููุฑ ูุฌููุนุฉ ูุน ูุนุฏู ุนููุฉ ูุตููู numpy ููุจูุงูุงุช ูููู ุตูุชู ูุงุจู ููุชุดุบูู.
ูู ูุฐู ุงูุญุงูุฉุ ูุง ูุญุชุงุฌ ุฅูู ุฃู ุชุฎุตูุตุ ูุฐุง ุณูุณุชุฎุฏู ุงูุงุฎุชุตุงุฑ ุงูุณูุณูุฉ
`"audio"`.


```py
import numpy as np
import gradio as gr


def reverse_audio(audio):
    sr, data = audio
    reversed_audio = (sr, np.flipud(data))
    return reversed_audio


mic = gr.Audio(source="microphone", type="numpy", label="Speak here...")
gr.Interface(reverse_audio, mic, "audio").launch()
```

ุณููุชุฌ ุงูููุฏ ุฃุนูุงู ูุงุฌูุฉ ูุซู ุชูู ุงูููุฌูุฏุฉ ุฃุฏูุงู (ุฅุฐุง ูู ูุทูุจ ูุชุตูุญู
ุฃุฐููุงุช ุงููููุฑููููุ <a href="https://huggingface.co/spaces/course-demos/audio-reverse" target="_blank">ุงูุชุญ ุงูุนุฑุถ ุงูุชูุถูุญู ูู ุนูุงูุฉ ุชุจููุจ ูููุตูุฉ</a>.)

<iframe src="https://course-demos-audio-reverse.hf.space" frameBorder="0" height="250" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>

ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุงูุขู ุนูู ุชุณุฌูู ุตูุชู ูุณูุงุน ููุณู ุชุชุญุฏุซ ุจุงูุนูุณ - ูุฎูู ๐ป!

## ุงูุชุนุงูู ูุน ูุฏุฎูุงุช ููุฎุฑุฌุงุช ูุชุนุฏุฏุฉ {}

ูููุชุฑุถ ุฃู ูุฏููุง ุฏุงูุฉ ุฃูุซุฑ ุชุนููุฏูุงุ ูุน ูุฏุฎูุงุช ููุฎุฑุฌุงุช ูุชุนุฏุฏุฉ.
ูู ุงููุซุงู ุฃุฏูุงูุ ูุฏููุง ุฏุงูุฉ ุชุฃุฎุฐ ููุฑุณ ุงููุงุฆูุฉ ุงูููุณุฏูุฉุ ููููุฉ ุดุฑูุท ุงูุชูุฑูุฑุ ูุงูุฑููุ
ูุชุนูุฏ ุนููุฉ ุตูุชูุฉ ููุบูุฉ ููุณูููุฉ.

ุงูุธุฑ ููู ููุฑุฑ ูุงุฆูุฉ ูู ููููุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌุ
ูุฃุฎุจุฑูู ุฅุฐุง ููุช ุชุณุชุทูุน ูุชุงุจุนุฉ ูุง ูุญุฏุซ.

ุงูููุชุงุญ ููุง ูู ุฃูู ุนูุฏ ุชูุฑูุฑ:
* ูุงุฆูุฉ ูู ููููุงุช ุงูุฅุฏุฎุงูุ ูุชูุงูู ูู ูููู ูุน ุจุงุฑุงูุชุฑ ุจุงูุชุฑุชูุจ.
* ูุงุฆูุฉ ูู ููููุงุช ุงูุฅุฎุฑุงุฌุ ูุชูุงูู ูู ูููู ูุน ูููุฉ ูุฑุชุฌุนุฉ.

ููุถุญ ููุชุทู ุงูููุฏ ุฃุฏูุงู ููู ุชุชูุงูู ุซูุงุซุฉ ููููุงุช ุฅุฏุฎุงู ูุน ุงูุญุฌุฌ ุงูุซูุงุซุฉ ูุฏุงูุฉ `generate_tone()`:

```py
import numpy as np
import gradio as gr

notes = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"]


def generate_tone(note, octave, duration):
    sr = 48000
    a4_freq, tones_from_a4 = 440, 12 * (octave - 4) + (note - 9)
    frequency = a4_freq * 2 ** (tones_from_a4 / 12)
    duration = int(duration)
    audio = np.linspace(0, duration, duration * sr)
    audio = (20000 * np.sin(audio * (2 * np.pi * frequency))).astype(np.int16)
    return (sr, audio)


gr.Interface(
    generate_tone,
    [
        gr.Dropdown(notes, type="index"),
        gr.Slider(minimum=4, maximum=6, step=1),
        gr.Textbox(type="number", value=1, label="Duration in seconds"),
    ],
    "audio",
).launch()
```
<iframe src="https://course-demos-generate-tone.hf.space" frameBorder="0" height="450" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>


### ุทุฑููุฉ `launch()` [[the-launch-method]]

ุญุชู ุงูุขูุ ุงุณุชุฎุฏููุง ุทุฑููุฉ `launch()` ูุฅุทูุงู ุงููุงุฌูุฉุ ูููููุง
ูู ููุงูุด ุญููุง ูุง ุชูุนูู.

ุจุดูู ุงูุชุฑุงุถูุ ุณุชุทูู ุทุฑููุฉ `launch()` ุงูุนุฑุถ ุงูุชูุถูุญู ูู ุฎุงุฏู ููุจ
ูุนูู ูุญูููุง. ุฅุฐุง ููุช ุชุดุบู ููุฏู ูู ุฏูุชุฑ Jupyter ุฃู Colabุ
ูุฅู Gradio ุณุชุถููู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ ููุนุฑุถ ุงูุชูุถูุญู ูู ุงูุฏูุชุฑ
ุญุชู ุชุชููู ูู ุงุณุชุฎุฏุงูู ุจุณูููุฉ.

ููููู ุชุฎุตูุต ุณููู `launch()` ูู ุฎูุงู ูุนููุงุช ูุฎุชููุฉ:

  - `inline` - ูุง ุฅุฐุง ูุงู ุณูุชู ุนุฑุถ ุงููุงุฌูุฉ ุฏุงุฎู ุฏูุงุชุฑ Python.
  - `inbrowser` - ูุง ุฅุฐุง ูุงู ุณูุชู ุฅุทูุงู ุงููุงุฌูุฉ ุชููุงุฆููุง ูู ุนูุงูุฉ ุชุจููุจ ุฌุฏูุฏุฉ ูู ุงููุชุตูุญ ุงูุงูุชุฑุงุถู.
  - `share` - ูุง ุฅุฐุง ูุงู ุณูุชู ุฅูุดุงุก ุฑุงุจุท ูุงุจู ูููุดุงุฑูุฉ ุนูููุง ูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ูููุงุฌูุฉ. ูุดุจู ุฅูู ุญุฏ ูุง ุฑุงุจุท Google Drive!

ุณูุบุทู ูุนููุฉ `share` ุจูุฒูุฏ ูู ุงูุชูุตูู ูู ุงููุณู ุงูุชุงูู!

## โ๏ธ ุฏุนูุง ูุทุจููุง![[lets-apply-it]]

ุฏุนูุง ูุจูู ูุงุฌูุฉ ุชุณูุญ ูู ุจุนุฑุถ ูููุฐุฌ **ุงูุชุนุฑู ุนูู ุงูููุงู**.
ูุฌุนูู ูุซูุฑูุง ููุงูุชูุงูุ ุณููุจู ุฅูุง ูุฏุฎู ุงููููุฑูููู ุฃู ุงูููู ุงูุฐู ุชู ุชุญูููู.

ูุงูุนุงุฏุฉุ ุณูููู ุจุชุญููู ูููุฐุฌ ุงูุชุนุฑู ุนูู ุงูููุงู ุงูุฎุงุต ุจูุง ุจุงุณุชุฎุฏุงู
ุฏุงูุฉ `pipeline()` ูู ๐ค Transformers.
ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุฐููุฑ ุณุฑูุนุ ููููู ุงูุนูุฏุฉ ุฅูู [ูุฐุง ุงููุณู ูู ุงููุตู 1](/course/chapter1/3).
ุจุนุฏ ุฐููุ ุณูููุฐ ุฏุงูุฉ `transcribe_audio()` ุงูุชู ุชููู ุจูุนุงูุฌุฉ ุงูุตูุช ูุฅุฑุฌุงุน ุงููุต ุงูููุชูุจ.
ุฃุฎูุฑูุงุ ุณูุบูู ูุฐู ุงูุฏุงูุฉ ูู `Interface` ูุน ููููุงุช `Audio` ูููุฏุฎูุงุช ูุงููุต ููุท ููุฅุฎุฑุงุฌ.
ุจุดูู ุนุงูุ ูุฅู ุงูููุฏ ููุฐุง ุงูุชุทุจูู ูู ุงูุชุงูู:

```py
from transformers import pipeline
import gradio as gr

model = pipeline("automatic-speech-recognition")


def transcribe_audio(mic=None, file=None):
    if mic is not None:
        audio = mic
    elif file is not None:
        audio = file
    else:
        return "ูุฌุจ ุนููู ุฅูุง ุชูููุฑ ุชุณุฌูู ูููุฑูููู ุฃู ููู"
    transcription = model(audio)["text"]
    return transcription


gr.Interface(
    fn=transcribe_audio,
    inputs=[
        gr.Audio(source="microphone", type="filepath", optional=True),
        gr.Audio(source="upload", type="filepath", optional=True),
    ],
    outputs="text",
).launch()
```

ุฅุฐุง ูู ูุทูุจ ูุชุตูุญู ุฃุฐููุงุช ุงููููุฑููููุ <a href="https://huggingface.co/spaces/course-demos/audio-reverse" target="_blank">ุงูุชุญ ุงูุนุฑุถ ุงูุชูุถูุญู ูู ุนูุงูุฉ ุชุจููุจ ูููุตูุฉ</a>.

<iframe src="https://course-demos-asr.hf.space" frameBorder="0" height="550" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>


ูุฐุง ูู ุดูุก! ููููู ุงูุขู ุงุณุชุฎุฏุงู ูุฐู ุงููุงุฌูุฉ ููุณุฎ ุงูุตูุช. ูุงุญุธ ููุง ุฃูู
ูู ุฎูุงู ุชูุฑูุฑ ูุนููุฉ `optional` ูู `True`ุ ูุณูุญ ูููุณุชุฎุฏู ุฅูุง
ุชูููุฑ ูููุฑูููู ุฃู ููู ุตูุชู (ุฃู ูุง ุดูุกุ ูููู ุณูุคุฏู ุฐูู ุฅูู ุฅุฑุฌุงุน ุฑุณุงูุฉ ุฎุทุฃ).

ุงุณุชูุฑ ูู ุงููุฑุงุกุฉ ููุนุฑูุฉ ููููุฉ ูุดุงุฑูุฉ ูุงุฌูุชู ูุน ุงูุขุฎุฑูู!