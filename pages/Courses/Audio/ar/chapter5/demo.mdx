# ุจูุงุก ุนุฑุถ ุชูุถูุญู ุจุงุณุชุฎุฏุงู Gradio

ุงูุขู ุจุนุฏ ุฃู ูููุง ุจุถุจุท ูููุฐุฌ Whisper ููุชุนุฑู ุนูู ุงูููุงู ูู ุงููุบุฉ ุงูุฏูููููุฉุ ุฏุนูุง ููุชูู ุฅูู ุจูุงุก ุนุฑุถ ุชูุถูุญู ุจุงุณุชุฎุฏุงู [Gradio](https://gradio.app)
ูุฅุธูุงุฑู ูููุฌุชูุน!

ุฃูู ุดูุก ูุฌุจ ูุนูู ูู ุชุญููู ููุทุฉ ุงูุชุญูู ุงููุถุจูุทุฉ ุจุงุณุชุฎุฏุงู ุงููุฆุฉ `pipeline()` - ูุฐุง ุงูุฃูุฑ ุฃุตุจุญ ูุฃููููุง ุงูุขู ูู
ุงููุณู ุงูุฎุงุต ุจู [ุงููููุฐุฌ ุงูููุฏุฑุจ ูุณุจููุง](asr_models). ููููู ุชุบููุฑ `model_id` ุฅูู ูุณุงุญุฉ ูููุฐุฌู ุงููุถุจูุท
ุนูู ููุตุฉ Hugging Face Hubุ ุฃู ุฃุญุฏ ุงูููุงุฐุฌ ุงูููุฏุฑุจุฉ ูุณุจููุง [Whisper models](https://huggingface.co/models?sort=downloads&search=openai%2Fwhisper-)
ูุฃุฏุงุก ุงูุชุนุฑู ุนูู ุงูููุงู ุจุฏูู ุจูุงูุงุช ุชุฏุฑูุจ:

```python
from transformers import pipeline

model_id = "sanchit-gandhi/whisper-small-dv"  # ูู ุจุชุญุฏูุซู ุจูุนุฑูู ูููุฐุฌู
pipe = pipeline("automatic-speech-recognition", model=model_id)
```

ุซุงูููุงุ ุณูููู ุจุชุนุฑูู ุฏุงูุฉ ุชุฃุฎุฐ ูุณุงุฑ ููู ุงูุฅุฏุฎุงู ุงูุตูุชู ูุชูุฑุฑู ุนุจุฑ ุงูุฃูุจูุจ. ููุงุ
ูุชููู ุงูุฃูุจูุจ ุชููุงุฆููุง ูููุฉ ุชุญููู ููู ุงูุตูุชุ ูุฅุนุงุฏุฉ ุฃุฎุฐ ุงูุนููุงุช ุจูุนุฏู ุงูุนููุฉ ุงูุตุญูุญุ ูุชุดุบูู
ุงูุงุณุชุฏูุงู ุจุงุณุชุฎุฏุงู ุงููููุฐุฌ. ุจุนุฏ ุฐููุ ูููููุง ุจุจุณุงุทุฉ ุฅุนุงุฏุฉ ุงููุต ุงูููุณูุฎ ููุงุชุฌ ููุฏุงูุฉ. ูุถูุงู ูุฏุฑุฉ ูููุฐุฌูุง ุนูู ุงูุชุนุงูู ูุน ูุฏุฎูุงุช ุตูุชูุฉ ุฐุงุช ุทูู ุนุดูุงุฆูุ ุณูููู ุจุชูุนูู ุฎุงุตูุฉ *chunking* ููุง ูู ููุถุญ ูู ุงููุณู
ุงูุฎุงุต ุจู [ุงููููุฐุฌ ุงูููุฏุฑุจ ูุณุจููุง](asr_models):

```python
def transcribe_speech(filepath):
    output = pipe(
        filepath,
        max_new_tokens=256,
        generate_kwargs={
            "task": "transcribe",
            "language": "sinhalese",
        },  # ูู ุจุชุญุฏูุซู ุจุงููุบุฉ ุงูุชู ููุช ุจุถุจุท ุงููููุฐุฌ ุนูููุง
        chunk_length_s=30,
        batch_size=8,
    )
    return output["text"]
```

ุณูุณุชุฎุฏู ุฎุงุตูุฉ [blocks](https://gradio.app/docs/#blocks) ูู Gradio ูุฅุทูุงู ุนูุงูุชู ุชุจููุจ ูู ุนุฑุถูุง ุงูุชูุถูุญู: ูุงุญุฏุฉ ูููุณุฎ ูู ุงููููุฑููููุ
ูุงูุฃุฎุฑู ูุชุญููู ุงููููุงุช.

```python
import gradio as gr

demo = gr.Blocks()

mic_transcribe = gr.Interface(
    fn=transcribe_speech,
    inputs=gr.Audio(sources="microphone", type="filepath"),
    outputs=gr.components.Textbox(),
)

file_transcribe = gr.Interface(
    fn=transcribe_speech,
    inputs=gr.Audio(sources="upload", type="filepath"),
    outputs=gr.components.Textbox(),
)
```

ุฃุฎูุฑูุงุ ูููู ุจุชุดุบูู ุงูุนุฑุถ ุงูุชูุถูุญู ูู Gradio ุจุงุณุชุฎุฏุงู ุงููุชูุชูู ุงููุชูู ูููุง ุจุชุนุฑููููุง ููุชู:

```python
with demo:
    gr.TabbedInterface(
        [mic_transcribe, file_transcribe],
        ["Transcribe Microphone", "Transcribe Audio File"],
    )

demo.launch(debug=True)
```

ุณูููู ูุฐุง ุจุชุดุบูู ุนุฑุถ ุชูุถูุญู ูู Gradio ูุดุงุจู ููุนุฑุถ ุงูููุฌูุฏ ุนูู ููุตุฉ Hugging Face Space:

<iframe src="https://course-demos-whisper-small.hf.space" frameBorder="0" height="450" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>

ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงุณุชุถุงูุฉ ุนุฑุถู ุงูุชูุถูุญู ุนูู ููุตุฉ Hugging Face Hubุ ููููู ุงุณุชุฎุฏุงู ูุฐุง ุงููุณุงุญุฉ ููุงูุจ ููููุฐุฌู ุงููุถุจูุท.

ุงููุฑ ุนูู ุงูุฑุงุจุท ููุณุฎ ุงูุนุฑุถ ุงูุชูุถูุญู ูููุงูุจ ุฅูู ุญุณุงุจู: https://huggingface.co/spaces/course-demos/whisper-small?duplicate=true

ููุตู ุจุฅุนุทุงุก ูุณุงุญุชู ุงุณููุง ูุดุงุจููุง ููููุฐุฌู ุงููุถุจูุท (ูุซููุง: whisper-small-dv-demo) ูุฌุนู ุงูุฑุคูุฉ "ุนุงูุฉ".

ุจุนุฏ ูุณุฎ ุงููุณุงุญุฉ ุฅูู ุญุณุงุจูุ ุงููุฑ ุนูู "Files and versions" -> "app.py" -> "edit". ุซู ูู ุจุชุบููุฑ
ูุนุฑูู ุงููููุฐุฌ ุฅูู ูููุฐุฌู ุงููุถุจูุท (ุงูุณุทุฑ 6). ูู ุจุงูุชูุฑูุฑ ุฅูู ุฃุณูู ุงูุตูุญุฉ ูุงููุฑ ุนูู "Commit changes to main".
ุณูุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุนุฑุถ ุงูุชูุถูุญูุ ููุฐู ุงููุฑุฉ ุจุงุณุชุฎุฏุงู ูููุฐุฌู ุงููุถุจูุท. ููููู ูุดุงุฑูุฉ ูุฐุง ุงูุนุฑุถ ุงูุชูุถูุญู ูุน ุฃุตุฏูุงุฆู ูุนุงุฆูุชู ุญุชู
ูุชููููุง ูู ุงุณุชุฎุฏุงู ุงููููุฐุฌ ุงูุฐู ููุช ุจุชุฏุฑูุจู!

ุชูุถู ุจูุดุงูุฏุฉ ุงูููุฏูู ุงูุชุนูููู ุงูุฎุงุต ุจูุง ูููู ุฃูุถู ูููููุฉ ูุณุฎ ุงููุณุงุญุฉ ๐๏ธ [ููุฏูู ุนูู ููุชููุจ](https://www.youtube.com/watch?v=VQYuvl6-9VE)

ูุชุทูุน ุฅูู ุฑุคูุฉ ุนุฑูุถู ุงูุชูุถูุญูุฉ ุนูู ุงูููุตุฉ!